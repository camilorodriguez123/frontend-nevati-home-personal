<main class="main">
    <div class="register-container">
        <h1>Registrarse</h1>
        <form id="register-form" action="#"  [formGroup]="formData"
        (ngSubmit)="handleSubmit()"
        class="form form-register">
            <div class="form-group">
                <label for="first-name">Nombres</label>
                <input type="text" id="first-name" name="first-name" placeholder="Ingresa tus nombres" formControlName="name">
                <div class="error">
                    @if( formData.get( 'name' )?.invalid && ( formData.get( 'name' )?.dirty || formData.get( 'name' )?.touched ) ) {
                        @if( formData.get( 'name' )?.errors?.[ 'required' ] ) {
                            <small>El campo 'nombres' es obligatorio</small>
                        }
                    }
                </div>
            </div>
            <div class="form-group">
                <label for="last-name">Apellidos</label>
                <input type="text" id="last-name" name="last-name" placeholder="Ingresa tus apellidos" formControlName="lastname">
                <div class="error">
                    @if( formData.get( 'lastname' )?.invalid && ( formData.get( 'lastname' )?.dirty || formData.get( 'lastname' )?.touched ) ) {
                        @if( formData.get( 'lastname' )?.errors?.[ 'required' ] ) {
                            <small>El campo 'apellidos' es obligatorio</small>
                        }
                    }
                </div>
            </div>
            <div class="form-group">
                <label for="email">Correo Electrónico</label>
                <input formControlName="username" type="text" id="register-email" name="register-email" placeholder="Ingresa tu correo electrónico">
                <div class="error">
                    @if( formData.get( 'username' )?.invalid && ( formData.get( 'username' )?.dirty || formData.get( 'username' )?.touched ) ) {
                        @if( formData.get( 'username' )?.errors?.[ 'required' ] ) {
                            <small>El campo 'email' es obligatorio</small>
                        }
                        @if( formData.get( 'username' )?.errors?.[ 'email' ] ) {
                            <small>Email con formato no valido</small>
                        }
                    }
                </div>
            </div>
            <div class="form-group">
                <label for="phone">Teléfono</label>
                <input formControlName="phone" maxlength="10" type="tel" id="phone" name="phone" placeholder="Ingresa tu número de teléfono">
                <div class="error">
                    @if( formData.get( 'phone' )?.invalid && ( formData.get( 'phone' )?.dirty || formData.get( 'phone' )?.touched ) ) {
                        @if( formData.get( 'phone' )?.errors?.[ 'required' ] ) {
                            <small>El campo 'numero' es obligatorio</small>
                        }
                        @if( formData.get( 'phone' )?.errors?.[ 'minlength' ] ) {
                            <small>Número no válido. Debe tener 10 dígitos.</small>
                        }
                    }
                </div>
                <div id="phone-warning" class="warning-message">Este campo es obligatorio</div>
                <div id="phone-format-warning" class="warning-message">Número no válido. Debe tener 10 dígitos.</div>
            </div>                 
            <div class="form-group">
                <label for="address">Dirección</label>
                <input formControlName="address" type="text" id="adress" name="adress" placeholder="Ingresa tu dirección">
                <div class="error">
                    @if( formData.get( 'address' )?.invalid && ( formData.get( 'address' )?.dirty || formData.get( 'address' )?.touched ) ) {
                        @if( formData.get( 'address' )?.errors?.[ 'required' ] ) {
                            <small>El campo 'dirección  ' es obligatorio</small>
                        }
                    }
                </div>
            </div>
            <div class="form-group">
                <label for="password">Contraseña</label>
                <div class="password-wrapper">
                    <input autocomplete="off" formControlName="password" type="password" id="register-password" name="register-password" placeholder="Escribe tu contraseña">
                    <span class="toggle-password" onclick="toggleRegisterPassword()">
                        <i class="fa fa-eye" id="eye-icon-register"></i>
                    </span>
                </div>
                <div class="error">
                    @if( formData.get( 'password' )?.invalid && ( formData.get( 'password' )?.dirty || formData.get( 'password' )?.touched ) ) {
                        @if( formData.get( 'password' )?.errors?.[ 'required' ] ) {
                            <small>El campo 'password' es obligatorio</small>
                        }
                        @if( formData.get( 'password' )?.errors?.[ 'minlength' ] ) {
                            <small>El password debe tener minimo 8 caracteres</small>
                        }
                        @if( formData.get( 'password' )?.errors?.[ 'maxlength' ] ) {
                            <small>El password debe tener maximo 20 caracteres</small>
                        }
                    }
                </div>
            </div>
            
            <div class="form-group">
                <label for="confirm-password">Confirmar Contraseña</label>
                <div class="password-wrapper">
                    <input autocomplete="off" formControlName="password" type="password" id="confirm-password" name="confirm-password" placeholder="Confirma tu contraseña">
                    <span class="toggle-password" onclick="toggleConfirmPassword()">
                        <i class="fa fa-eye" id="eye-icon-confirm"></i>
                    </span>
                </div>
                <div class="error">
                    @if( formData.get( 'password' )?.invalid && ( formData.get( 'password' )?.dirty || formData.get( 'password' )?.touched ) ) {
                        @if( formData.get( 'password' )?.errors?.[ 'required' ] ) {
                            <small>El campo 'confirm password' es obligatorio</small>
                        }
                        @if( formData.get( 'password' )?.errors?.[ 'minlength' ] ) {
                            <small>El password debe tener minimo 8 caracteres</small>
                        }
                        @if( formData.get( 'password' )?.errors?.[ 'maxlength' ] ) {
                            <small>El password debe tener maximo 20 caracteres</small>
                        }
                    }
                </div>
                <div id="password-match-warning" class="warning-message">Las contraseñas no coinciden</div>
            </div>
            <button class="btn-register-submit" type="submit">Registrarse</button>
        </form>
    </div>
</main>